# Next.js Configuration
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# Database Configuration
DATABASE_URL=file:./dev.db

# R2 Configuration (Cloudflare R2 Storage)
R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
R2_ACCESS_KEY_ID=your_access_key_id
R2_SECRET_ACCESS_KEY=your_secret_access_key
R2_BUCKET_NAME=your_bucket_name
R2_PUBLIC_URL=https://your-public-url.com

# Admin Configuration
ADMIN_PASSWORD=your_secure_admin_password

# JWT Configuration  
JWT_SECRET=your-very-secure-jwt-secret-at-least-32-characters-long

# ===== API 防護設定 =====

# Rate Limiting 設定
UPLOAD_RATE_LIMIT_PER_MINUTE=3           # 每分鐘最多上傳次數（預設 3）
API_RATE_LIMIT_PER_MINUTE=60             # 一般 API 每分鐘請求次數（預設 60）
STRICT_RATE_LIMIT_PER_MINUTE=3           # 嚴格限制的 API 每分鐘請求次數（預設 3）

# 檔案限制設定
MAX_FILE_SIZE=5242880                    # 最大檔案大小（bytes，預設 5MB）

# 來源驗證設定
ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com  # 允許的來源（逗號分隔）
ALLOW_DIRECT_API_CALLS=false             # 是否允許直接 API 呼叫（沒有 Origin/Referer）
ENABLE_ORIGIN_CHECK=true                 # 是否啟用 Origin/Referer 檢查

# IP 管理設定
ENABLE_IP_BLACKLIST=true                 # 是否啟用 IP 黑名單
IP_BLACKLIST=                            # IP 黑名單（逗號分隔，例：192.168.1.100,10.0.0.5）
IP_WHITELIST=                            # IP 白名單（逗號分隔）

# User-Agent 檢查
ENABLE_USER_AGENT_CHECK=true             # 是否檢查可疑的 User-Agent

# 檔案驗證設定
ENABLE_FILE_SIGNATURE_CHECK=true         # 是否驗證檔案簽名（Magic Numbers）
ENABLE_MALICIOUS_CHECK=true              # 是否檢查惡意內容

# 開發環境設定（生產環境請設為 production）
NODE_ENV=development