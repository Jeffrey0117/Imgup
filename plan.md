## 批次上傳

### 彈窗顯示問題

現在批次上傳 只會跑一次鴨子 100%
理論上應該要多次 這個邏輯怎麼修改 想一下
做不到或是有問題的話 就改別的表現方法

可能可以把四個圖的進度總共算成 100% 但這不是必要
可以用最簡單 最穩健的方法達成修正效果就 OK 了 底層不用太多技術

### 多執行序

現在會先等待第一張完成才發下一個請求吧?
但要不要測試 併發?
這樣可以加快速度
但是也要寫限制 因為這支 API 是我的 到時候萬一被鎖 整個服務就會掛點
所以我這邊也不能讓 user 用太兇 只是也要提升速度

這個可以先自己測試看看是否能高併發 能多快 先講優先最快
然後確認 OK 我們再來限制 user 的這個使用 去稍微優化

## 按鈕設計調整

現在的開始上傳跟 clear 都不夠顯眼
是否改成更寬一點? 然後開始上傳的顏色是否的強化顯示 還是底線還是怎樣的框線
配合整體有點紫色的感覺去設計 你要用 UI 師的角度考慮

還是他可以有一點點浮動跟跳動之類的 這都只是一個想法 你要自己規畫十次

## 未來可能的改善

### 長期功能擴展

- [ ] 短網址自訂別名功能
- [ ] 短網址訪問統計
- [ ] 批次管理短網址（刪除、修改）
- [ ] 短網址 QR Code 生成
- [ ] 短網址有效期管理

### 效能優化

- [ ] 圖片壓縮選項
- [ ] 拖曳區域預覽圖片
- [ ] 批次上傳進度條改善
- [ ] 本地快取機制

### 使用者介面

- [ ] 深色/淺色主題切換
- [ ] 更多語言支援
- [ ] 鍵盤快捷鍵支援
- [ ] 進階搜尋和篩選功能

## 進度更新（2025-09-20）

- 批次上傳彈窗與進度呈現
  - 鴨子動畫在整個批次期間持續顯示
  - 新增整體批次進度（以各檔案 progress 加總計算）
  - 批次完成後顯示統計資訊（成功上傳張數）
- 受控併發上傳
  - 預設並發數 3，避免打爆外部 API，平衡速度與風險
- 列表每張圖片進度條
  - 上傳時即時更新 `item.progress`，視覺一致
- 按鈕設計強化
  - 「開始上傳」更顯眼（紫色系漸層與微動效）
  - 「Clear」樣式區隔為次要按鈕
- 測試
  - Jest 全部通過（6/6 套件、35/35 測試）
- Hash 生成
  - `generateShortHash` 改為可重現、固定 11 碼英數字，不再含時間因子
  - `isValidHash` 支援 8 或 11 碼，兼容既有資料與新規格

影響檔案：

- [src/app/page.tsx](src/app/page.tsx:1)
- [src/app/page.module.css](src/app/page.module.css:1)
- [src/components/DuckAnimation.tsx](src/components/DuckAnimation.tsx:1)
- [src/utils/hash.ts](src/utils/hash.ts:1)
- [**tests**/components/DuckAnimation.test.tsx](__tests__/components/DuckAnimation.test.tsx:1)

後續建議：

- 觀察外部 API 行為，必要時調整並發數上限（可加 UI 選項）
- 若要進一步優化 UX，可在批次結束提供「複製全部短網址」的彈窗快捷動作
